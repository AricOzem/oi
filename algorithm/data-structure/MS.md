# 单调栈
## 引入
单调栈就是栈内元素单调递增或者单调递减的栈，单调栈只能在栈顶操作。
为了更好的理解单调栈，则可将单调栈用生活情形模拟实现，例如：

##　性质
1. 单调栈里的元素具有单调性
2. 元素加入栈前，会在栈顶端把破坏栈单调性的元素都删除
3. 使用单调栈可以找到元素向左遍历第一个比他小的元素，也可以找到元素向左遍历第一个比他大的元素。
4. 单调栈的维护是 O(n) 级的时间复杂度，因为所有元素只会进入栈一次，并且出栈后再也不会进栈了。

**对于第三条性质（最常用的性质）的解释：**

对于单调递增的栈，如果此时栈顶元素为 b ，加入新元素a后进行更新时，如果 a 大于 b，说明 a 在数组里不能再往左扩展了（由于单调栈的单调递增性质，b前面的元素均小于a），也就是说，如果从 a 在数组中的位置开始往左边遍历，则 a 一定是第一个比 b 大的元素。

如果 a 小于 b，说明在数组里，a 前面至少有一个元素不能扩展到 a 的位置(至少有b元素，因为b的值要大于a，如果此时再加入新的a，那么单调栈便不再单调，所以元素a此时不能压入栈顶，因为这并不是元素a"应该"在的位置，只有当元素a找到自己的位置时元素a方能压入栈中，而这样做的前提是不改变单调栈的单调性)，也就是对于这些元素来说，a是其在数组右侧第一个比它小的元素。

## 模板
```cpp
//单调递增栈
for(int i=1;i<=len;i++){
    while(top>0&&a[stack[top]]>a[i]) top--;
    a[++top]=i;
}
```
## 应用
[51NOD 1215](http://www.51nod.com/onlineJudge/questionCode.html#!problemId=1215) [题解](/51Nod/p1215.md)

[BZOJ 4237](http://www.lydsy.com/JudgeOnline/problem.php?id=4237) [题解](/BZOJ/p4237.md) 